<svg xmlns="http://www.w3.org/2000/svg" width="200px" height="200px" viewBox="0 0 200 200">
  <clipPath id="clip">
    <circle cx="100" cy="100" r="100"/>
  </clipPath>
  <g clip-path="url(#clip)">
    <rect id="bg" fill="<%= @avatar.background_color.css_rgba %>" x="0" y="0" width="200" height="200"/>
    <path id="shadow"  fill="<%= @avatar.shadow_color.css_rgba %>" d="M119,45l81,67l0,88l-97.2,0l16.2,-155Z"/>
    <%= erb @avatar.hair.supplemental_partial, locals: { hair: @avatar.hair } %>
    <path id="body"
      fill="<%= @avatar.body_color.css_rgba %>"
      d="M126.7,113.4c-3.8,-5 -15.2,-11.4 -26.7,-11.4c-11.4,0 -22.9,6.4 -26.7,11.4c-12.7,16.7 -21,43.2 -21,65.9c0,3 0.4,20.7 0.4,20.7l94.5,0c0,0 0.4,-17.6 0.4,-20.6c0.1,-22.8 -8.3,-49.4 -20.9,-66Z"
      style="transform-origin: center center; transform: scaleX(<%= @avatar.body_size %>);"/>/>
    <path id="face" fill="<%= @avatar.skin_tone.css_rgba %>" d="M132.6,74.3c0,12.5-5.7,27-14.4,36.1c-2.6,2.7-10.4,6.2-18.2,6.2s-15.6-3.5-18.2-6.2
       c-8.7-9.1-14.4-23.7-14.4-36.1c0-19.9,14.6-36.1,32.6-36.1S132.6,54.4,132.6,74.3L132.6,74.3z"/>
    <%= erb @avatar.eyes.partial %>
    <%= erb @avatar.glasses.partial %>
    <%= erb @avatar.hair.partial, locals: { hair: @avatar.hair } %>
    <path id="body-detail" fill="<%= @avatar.body_highlight_color.css_rgba %>" d="M107.3,174.3l8.7-49c0,0-10.5,2-16.3,2c-5.8,0-15.7-2-15.7-2l8.7,49H107.3L107.3,174.3z"/>
  </g>
</svg>
